<link rel="import" href="../../style/shared-styles.html" >

<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../rule/rule.html">

<dom-module id="playlist-detail">
	<link rel="import" href="../../style/dark-side/dark-side.css" type="css" >
	<style include="shared-styles"></style>
	<style
	<style is="custom-style"></style>

	<template>
		<div col flex>
			<paper-input label="Title" value="{{name}}"></paper-input>
			<div blackBorder roundedCorners pad>
				Match ALL of the following rules...
				<template is="dom-repeat" items="{{formattedRules}}" as="group">
					<div hero blackBorder roundedCorners pad marg>
						<div row>
							Match ANY of the following rules...
							<paper-icon-button icon="icons:add-circle" on-tap="addRule" key="{{group.key}}"></paper-icon-button>
						</div>
						<div col>
							<template is="dom-repeat" items="{{group.rules}}" as="item">
								<rule-detail
									id = {{item.id}}
									rule-type = {{item.ruleType}}
									rule = {{item.rule}}
									greater = {{item.greater}}
									playlist-id = {{item.playlistId}}
									tagId = {{item.tagId}}
								></rule-detail>
							</template>
						</div>
					</div>
				</template>
				<div row flex>
					<paper-button on-click="addRuleGroup" class="primary raised">Add Rule Group</paper-button>
					<paper-button on-click="savePlaylist" class="primary raised">Save Playlist</paper-button>
				</div>
			</div>
		</div>
	</template>
</dom-module>

<script src="playlist.js"></script>
